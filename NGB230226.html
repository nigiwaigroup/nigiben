<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nigiben Executive Dashboard</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary-color: #1e3c72;
            --secondary-color: #2a5298;
            --accent-color: #e74c3c;
            --text-main: #2c3e50;
            --text-muted: #7f8c8d;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --success-color: #27ae60;
        }

        body { 
            font-family: 'Noto Sans Thai', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-main);
            margin: 0; 
            padding: 0; 
        }

        .dashboard-header { 
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); 
            color: white; 
            padding: 40px 20px; 
            text-align: center; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }
        .dashboard-header h1 { margin: 0; font-size: 2.2rem; font-weight: 700; letter-spacing: 0.5px; }
        .dashboard-header p { margin-top: 10px; font-size: 1.1rem; color: #d1d8e0; font-weight: 300; }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            padding-bottom: 50px;
        }

        .section-title { 
            font-size: 1.6rem; 
            font-weight: 700; 
            color: var(--text-main); 
            margin-bottom: 25px; 
            padding-left: 15px;
            border-left: 6px solid var(--accent-color);
            display: flex;
            align-items: center;
        }

        /* KPI Section */
        .kpi-container { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
            gap: 20px; 
            margin-bottom: 50px; 
        }
        .kpi-card { 
            background: var(--card-bg); 
            padding: 25px; 
            border-radius: 12px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); 
            text-align: center;
            border: 1px solid #e1e8ed;
            transition: all 0.3s ease;
        }
        .kpi-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); border-color: var(--secondary-color); }
        .kpi-title { font-size: 0.95rem; color: var(--text-muted); font-weight: 600; text-transform: uppercase; }
        .kpi-value { font-size: 2.3rem; font-weight: 700; color: var(--text-main); margin: 10px 0; }
        .kpi-sub { font-size: 0.9rem; color: var(--success-color); font-weight: 500; }
        .kpi-sub.negative { color: var(--accent-color); background: #fdeaea; padding: 4px 10px; border-radius: 20px; display: inline-block;}
        .kpi-sub.warning { color: #d35400; background: #fae5d3; padding: 4px 10px; border-radius: 20px; display: inline-block;}

        /* Charts Section (Full Width Layout) */
        .charts-container {
            display: flex;
            flex-direction: column;
            gap: 40px; 
            margin-bottom: 50px;
        }
        .chart-section {
            background: var(--card-bg); 
            padding: 35px; 
            border-radius: 12px; 
            box-shadow: 0 6px 12px rgba(0,0,0,0.05); 
            border: 1px solid #e1e8ed;
        }
        .chart-header { 
            font-size: 1.3rem; 
            font-weight: 700; 
            color: var(--primary-color); 
            margin-bottom: 25px; 
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1; 
        }
        .chart-wrapper {
            position: relative;
            height: 450px; 
            width: 100%;
        }

        /* Two Column Layout inside Section */
        .two-cols {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        .donut-wrapper { height: 350px; position: relative; width: 100%; }

        /* Insights Section */
        .insights-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }
        .insight-card { 
            background: var(--card-bg); 
            padding: 30px; 
            border-radius: 12px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); 
            border-top: 5px solid #3498db; 
            transition: all 0.3s ease;
        }
        .insight-card.urgent { border-top: 5px solid var(--accent-color); }
        .insight-card:hover { background-color: #f8fbfe; transform: translateY(-5px); }
        .insight-number { font-size: 1.2rem; font-weight: 700; color: #3498db; margin-bottom: 10px; }
        .insight-card.urgent .insight-number { color: var(--accent-color); }
        .insight-text { font-size: 1rem; line-height: 1.6; color: var(--text-main); }
        .insight-text strong { color: var(--primary-color); }
        
        @media (max-width: 992px) {
            .two-cols { grid-template-columns: 1fr; }
            .chart-wrapper { height: 350px; }
        }
    </style>
</head>
<body>

    <div class="dashboard-header">
        <h1>Nigiben Executive Dashboard</h1>
        <p>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå ‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏î‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á | ‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ & ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
    </div>

    <div class="container">
        
        <h2 class="section-title">üìä 1. Executive Summary</h2>
        <div class="kpi-container">
            <div class="kpi-card">
                <div class="kpi-title">Gross Sales (‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°)</div>
                <div class="kpi-value">‡∏ø69,604</div>
                <div class="kpi-sub">Total Revenue Generated</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-title" style="color: #27ae60;">Net Sales (‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á)</div>
                <div class="kpi-value" style="color: #27ae60;">‡∏ø47,761</div>
                <div class="kpi-sub">Real Cash Collected</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-title">Total Discount (‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)</div>
                <div class="kpi-value" style="color: #e74c3c;">-‡∏ø21,853</div>
                <div class="kpi-sub negative">‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏ñ‡∏∂‡∏á 31.4% ‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-title">Water Sales (‡∏Ñ‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏ô‡πâ‡∏≥‡∏Ç‡∏ß‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)</div>
                <div class="kpi-value" style="color: #d35400;">103 ‡∏ö‡∏¥‡∏•</div>
                <div class="kpi-sub warning">‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ Cross-sell ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
            </div>
        </div>

        <h2 class="section-title">üéØ 2. Basket Segmentation (‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô RFM ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏±‡∏ç‡∏à‡∏£)</h2>
        <div class="chart-section">
            <div class="chart-header">‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ (Monetary Value) ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö</div>
            <div class="two-cols">
                <div>
                    <h3 style="text-align: center; color: var(--text-muted); font-size: 1.1rem;">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ñ‡∏ô (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏¥‡∏•)</h3>
                    <div class="donut-wrapper">
                        <canvas id="basketCountChart"></canvas>
                    </div>
                </div>
                <div>
                    <h3 style="text-align: center; color: var(--text-muted); font-size: 1.1rem;">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á (Net Revenue - THB)</h3>
                    <div class="donut-wrapper">
                        <canvas id="basketRevChart"></canvas>
                    </div>
                </div>
            </div>
            <p style="text-align: center; margin-top: 20px; color: #7f8c8d; font-size: 0.95rem;">
                * <strong>Grab & Go:</strong> ‡∏ã‡∏∑‡πâ‡∏≠‡∏ô‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏ô‡∏° (<200‡∏ø) | <strong>Solo Meal:</strong> ‡∏ã‡∏∑‡πâ‡∏≠‡∏ã‡∏π‡∏ä‡∏¥ 1 ‡∏Å‡∏•‡πà‡∏≠‡∏á (200-500‡∏ø) | <strong>Couple/Group:</strong> ‡∏ã‡∏∑‡πâ‡∏≠‡∏ä‡∏∏‡∏î‡πÉ‡∏´‡∏ç‡πà (>500‡∏ø)
            </p>
        </div>

        <h2 class="section-title">üìà 3. Sales & Profitability Analysis</h2>
        <div class="charts-container">
            
            <div class="chart-section">
                <div class="chart-header">‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÑ‡∏õ (‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)</div>
                <div class="chart-wrapper">
                    <canvas id="hourlyChart"></canvas>
                </div>
            </div>
            
            <div class="chart-section">
                <div class="chart-header">‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏° VS ‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤ (The Illusion of Best Sellers)</div>
                <div class="chart-wrapper">
                    <canvas id="itemChart"></canvas>
                </div>
            </div>

        </div>

        <h2 class="section-title">üí° 4. Strategic Action Plans (‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£)</h2>
        <div class="insights-container">
            
            <div class="insight-card urgent">
                <div class="insight-number">üî• 01. ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏≠‡∏¢‡∏£‡∏±‡πà‡∏ß "‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°" ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</div>
                <div class="insight-text">
                    ‡∏à‡∏≤‡∏Å‡∏ö‡∏¥‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ <strong>‡∏ã‡∏∑‡πâ‡∏≠‡∏ô‡πâ‡∏≥‡∏Ç‡∏ß‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á 103 ‡∏Ñ‡∏ô (35% ‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô)</strong> ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏ö‡∏ô‡πÇ‡∏ï‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡∏ã‡∏∑‡πâ‡∏≠‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏°‡∏û‡πà‡∏ß‡∏á‡πÄ‡∏•‡∏¢! <br><br>
                    <strong>Action:</strong> ‡∏™‡∏±‡πà‡∏á‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô <strong>"‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏•‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏° 10 ‡∏ö‡∏≤‡∏ó / ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ñ‡∏°‡∏ã‡∏∏‡∏õ"</strong> ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ã‡∏∑‡πâ‡∏≠‡∏ã‡∏π‡∏ä‡∏¥‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° Ticket Size ‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏° Solo Meal ‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° Grab&Go ‡πÉ‡∏´‡πâ‡∏™‡∏ô‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏ó‡∏≤‡∏ô‡πÄ‡∏•‡πà‡∏ô
                </div>
            </div>
            
            <div class="insight-card">
                <div class="insight-number">‚úàÔ∏è 02. ‡∏à‡∏±‡∏î "Couple Set" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</div>
                <div class="insight-text">
                    ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Market Basket Analysis ‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏´‡∏¢‡∏¥‡∏ö‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠ <strong>2 Friends + Moriawase Set</strong> ‡πÅ‡∏•‡∏∞ <strong>‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÑ‡∏î‡∏ü‡∏∏‡∏Å‡∏∏‡πÅ‡∏û‡πá‡∏Å‡∏Ñ‡∏π‡πà (‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß+‡∏¢‡∏π‡∏ã‡∏∏)</strong><br><br>
                    <strong>Action:</strong> ‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô‡∏ï‡∏£‡∏á‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î‡∏™‡∏∏‡∏î (Eye-level) ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏î‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡∏Ñ‡∏π‡πà‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô "Travel Duo Set" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏±‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ Medium ‡πÉ‡∏´‡πâ‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡∏™‡∏π‡πà High Value Basket (>500 ‡∏ö‡∏≤‡∏ó)
                </div>
            </div>
            
            <div class="insight-card">
                <div class="insight-number">‚úÇÔ∏è 03. ‡∏´‡∏±‡πà‡∏ô‡∏á‡∏ö‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï "Salmon 2 Tone" ‡∏ä‡πà‡∏ß‡∏á‡∏î‡∏∂‡∏Å</div>
                <div class="insight-text">
                    ‡∏ä‡πà‡∏ß‡∏á 21:00 ‡∏ô. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏™‡∏π‡∏á ‡πÅ‡∏ï‡πà‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏´‡∏ô‡πà‡∏≥‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤ 70% ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏£‡πâ‡∏≤‡∏ô ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏ô‡∏π‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï‡∏≠‡∏¢‡πà‡∏≤‡∏á "Salmon 2 Tone" ‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ 90% ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á<br><br>
                    <strong>Action:</strong> ‡∏•‡∏î Forecast ‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏ã‡∏π‡∏ä‡∏¥‡πÄ‡∏ã‡πá‡∏ï‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏¢‡πá‡∏ô‡∏•‡∏á 30-40% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏≠‡∏±‡∏ï‡∏£‡∏≤ Food Waste ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÑ‡∏õ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≥‡πÑ‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÜ (Net Margin) ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
                </div>
            </div>
            
        </div>

    </div>

    <script>
        Chart.defaults.font.family = "'Noto Sans Thai', sans-serif";
        Chart.defaults.font.size = 14;
        Chart.defaults.color = '#7f8c8d';

        // ---------------- Data ----------------
        const basketData = [
            {"Segment": "Tier 3: Grab & Go (<200‡∏ø)", "Count": 195, "Revenue": 11568, "color": "#bdc3c7"},
            {"Segment": "Tier 2: Solo Meal (200-500‡∏ø)", "Count": 88, "Revenue": 24479, "color": "#3498db"},
            {"Segment": "Tier 1: Couple/Group (>500‡∏ø)", "Count": 12, "Revenue": 11714, "color": "#2ecc71"}
        ];

        const hourlyData = [{"Hour": 5, "Gross": 795, "Net": 795, "Discount": 0}, {"Hour": 6, "Gross": 2830, "Net": 2816, "Discount": 14}, {"Hour": 7, "Gross": 480, "Net": 480, "Discount": 0}, {"Hour": 8, "Gross": 525, "Net": 525, "Discount": 0}, {"Hour": 9, "Gross": 2818, "Net": 2818, "Discount": 0}, {"Hour": 10, "Gross": 883, "Net": 883, "Discount": 0}, {"Hour": 11, "Gross": 6799, "Net": 6799, "Discount": 0}, {"Hour": 12, "Gross": 2587, "Net": 2587, "Discount": 0}, {"Hour": 13, "Gross": 1858, "Net": 1858, "Discount": 0}, {"Hour": 14, "Gross": 2874, "Net": 2874, "Discount": 0}, {"Hour": 15, "Gross": 6041, "Net": 5989, "Discount": 52}, {"Hour": 16, "Gross": 5648, "Net": 5648, "Discount": 0}, {"Hour": 17, "Gross": 299, "Net": 299, "Discount": 0}, {"Hour": 18, "Gross": 985, "Net": 985, "Discount": 0}, {"Hour": 19, "Gross": 1800, "Net": 1800, "Discount": 0}, {"Hour": 20, "Gross": 940, "Net": 940, "Discount": 0}, {"Hour": 21, "Gross": 30317, "Net": 9327, "Discount": 20990}, {"Hour": 22, "Gross": 1125, "Net": 338, "Discount": 787}];
        
        const itemData = [{"Item": "BEV005/Namthip Drinking Water", "Qty_Full": 150, "Qty_Disc": 0}, {"Item": "MINI014/Sushi Moriawase Set", "Qty_Full": 13, "Qty_Disc": 19}, {"Item": "MINI010/Sushi Bento Salmon 2 Tone", "Qty_Full": 3, "Qty_Disc": 28}, {"Item": "MINI011/Sushi Bento 2 Friends", "Qty_Full": 6, "Qty_Disc": 20}, {"Item": "MINI001/Salmon Sushi 7 pcs.", "Qty_Full": 19, "Qty_Disc": 6}, {"Item": "MINI004/Salmon Varity Set S", "Qty_Full": 3, "Qty_Disc": 18}, {"Item": "MINI012/Sushi Bento Aburi Set", "Qty_Full": 1, "Qty_Disc": 11}, {"Item": "BEV001/Singha Beer (Can) 320 ml.", "Qty_Full": 12, "Qty_Disc": 0}, {"Item": "MINI002/Salmon Aburi Sushi 7 pcs.", "Qty_Full": 4, "Qty_Disc": 8}, {"Item": "DES003/Matcha Red Bean Daifuku", "Qty_Full": 11, "Qty_Disc": 0}];

        const commonOptions = { maintainAspectRatio: false, responsive: true };

        // ---------------- Render Charts ----------------
        
        // 1. Basket Count (Doughnut)
        new Chart(document.getElementById('basketCountChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: basketData.map(d => d.Segment),
                datasets: [{
                    data: basketData.map(d => d.Count),
                    backgroundColor: basketData.map(d => d.color),
                    borderWidth: 2, hoverOffset: 5
                }]
            },
            options: { ...commonOptions, plugins: { legend: { position: 'bottom', labels: { padding: 15 } }, tooltip: { callbacks: { label: function(c) { return ' ' + c.raw + ' ‡∏ö‡∏¥‡∏•'; } } } }, cutout: '65%' }
        });

        // 2. Basket Revenue (Doughnut)
        new Chart(document.getElementById('basketRevChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: basketData.map(d => d.Segment),
                datasets: [{
                    data: basketData.map(d => d.Revenue),
                    backgroundColor: basketData.map(d => d.color),
                    borderWidth: 2, hoverOffset: 5
                }]
            },
            options: { ...commonOptions, plugins: { legend: { position: 'bottom', labels: { padding: 15 } }, tooltip: { callbacks: { label: function(c) { return ' ‡∏ø' + c.raw.toLocaleString(); } } } }, cutout: '65%' }
        });

        // 3. Hourly Chart (Bar)
        new Chart(document.getElementById('hourlyChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: hourlyData.map(d => d.Hour + ':00 ‡∏ô.'),
                datasets: [
                    { label: '‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (Net Revenue)', data: hourlyData.map(d => d.Net), backgroundColor: '#2ecc71', borderRadius: 4, order: 1 },
                    { label: '‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÑ‡∏õ (Discount Loss)', data: hourlyData.map(d => d.Discount), backgroundColor: '#e74c3c', borderRadius: 4, order: 2 }
                ]
            },
            options: {
                ...commonOptions,
                plugins: { legend: { position: 'top', labels: { usePointStyle: true, font: {size: 14} } } },
                scales: { x: { stacked: true, grid: { display: false } }, y: { stacked: true, beginAtZero: true, border: { dash: [4, 4] } } }
            }
        });

        // 4. Item Performance Chart (Horizontal Bar)
        new Chart(document.getElementById('itemChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: itemData.map(d => d.Item),
                datasets: [
                    { label: '‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏° (Full Price)', data: itemData.map(d => d.Qty_Full), backgroundColor: '#3498db', borderRadius: 4 },
                    { label: '‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ä‡πà‡∏ß‡∏á‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤', data: itemData.map(d => d.Qty_Disc), backgroundColor: '#b2bec3', borderRadius: 4 }
                ]
            },
            options: {
                ...commonOptions,
                indexAxis: 'y',
                plugins: { legend: { position: 'top', labels: { usePointStyle: true, font: {size: 14} } } },
                scales: { x: { stacked: true, border: { dash: [4, 4] } }, y: { stacked: true, grid: { display: false }, ticks: { font: { size: 13 } } } }
            }
        });
    </script>
</body>
</html>